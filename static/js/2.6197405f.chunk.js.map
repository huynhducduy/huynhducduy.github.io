{"version":3,"sources":["../node_modules/react-mde/lib/js/components/index.js","../node_modules/react-mde/lib/js/components/ToolbarButtonGroup.js","../node_modules/react-mde/lib/js/components/ToolbarButton.js","../node_modules/react-mde/lib/js/icons/MdeFontAwesomeIcon.js","../node_modules/react-mde/lib/js/util/InsertTextAtPosition.js","../node_modules/react-mde/lib/js/components/SuggestionsDropdown.js","../node_modules/react-mde/lib/js/icons/index.js","../node_modules/react-bootstrap/esm/Feedback.js","../node_modules/react-bootstrap/esm/FormContext.js","../node_modules/react-bootstrap/esm/FormCheckInput.js","../node_modules/react-bootstrap/esm/FormCheckLabel.js","../node_modules/react-bootstrap/esm/FormCheck.js","../node_modules/react-bootstrap/esm/FormFileInput.js","../node_modules/react-bootstrap/esm/FormFileLabel.js","../node_modules/react-bootstrap/esm/FormFile.js","../node_modules/react-bootstrap/esm/FormControl.js","../node_modules/react-bootstrap/esm/FormGroup.js","../node_modules/react-bootstrap/esm/FormLabel.js","../node_modules/react-bootstrap/esm/FormText.js","../node_modules/react-bootstrap/esm/Switch.js","../node_modules/dom-helpers/esm/camelize.js","../node_modules/react-bootstrap/esm/createWithBsPrefix.js","../node_modules/react-bootstrap/esm/Form.js","../node_modules/react-mde/lib/js/components/Preview.js","../node_modules/react-mde/lib/js/components/TextArea.js","../node_modules/react-mde/lib/js/util/TextAreaCaretPosition.js","../node_modules/react-mde/lib/js/util/Math.js","../node_modules/react-mde/lib/js/components/Toolbar.js","../node_modules/react-mde/lib/js/components/ReactMde.js","../node_modules/react-mde/lib/js/commands/default-commands/headerCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/boldCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/italicCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/strikeThroughCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/linkCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/quoteCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/codeCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/listCommands.js","../node_modules/react-mde/lib/js/commands/default-commands/imageCommand.js","../node_modules/react-mde/lib/js/commands/default-commands/save-image-command.js","../node_modules/react-mde/lib/js/util/files.js","../node_modules/react-mde/lib/js/l18n/react-mde.en.js","../node_modules/react-mde/lib/js/icons/SvgIcon.js","../node_modules/react-mde/lib/js/commands/command-orchestrator.js","../node_modules/react-mde/lib/js/commands/command-utils.js","../node_modules/react-mde/lib/js/util/MarkdownUtil.js","../node_modules/prop-types-extra/lib/all.js","../node_modules/warning/warning.js","../node_modules/react-mde/lib/js/util/ClassNames.js","../node_modules/prop-types-extra/lib/utils/createChainableTypeChecker.js","../node_modules/react-mde/lib/js/index.js","../node_modules/react-mde/lib/js/commands/default-commands/defaults.js"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__exportStar","exports","p","hasOwnProperty","value","require","ToolbarButtonGroup","React","ClassNames_1","props","createElement","className","classNames","hidden","children","__assign","assign","t","s","i","n","arguments","length","prototype","call","apply","ToolbarButton","defaultButtonProps","tabIndex","buttonComponentClass","buttonContent","buttonProps","onClick","readOnly","name","finalButtonProps","finalButtonComponent","disabled","type","MdeFontAwesomeIcon","_a","icon","transformedIcon","insertText","input","text","focus","document","selection","ieRange","createRange","collapse","select","execCommand","start","selectionStart","end","selectionEnd","setRangeText","nodeName","browserSupportsTextareaTextNodes","textarea","firstChild","canManipulateViaTextNodes","textNode","createTextNode","node","offset","startNode","endNode","range","nodeLength","nodeValue","setStart","setEnd","nextSibling","deleteContents","insertNode","appendChild","slice","setSelectionRange","e","createEvent","initEvent","dispatchEvent","SuggestionsDropdown","react_1","classes","suggestions","caret","onSuggestionSelected","focusIndex","textAreaRef","handleSuggestionClick","useCallback","event","preventDefault","index","parseInt","currentTarget","attributes","handleMouseDown","style","left","current","scrollLeft","top","scrollTop","map","onMouseDown","key","preview","propTypes","PropTypes","string","isRequired","as","elementType","Feedback","forwardRef","_ref","ref","_ref$as","Component","_objectWithoutPropertiesLoose","_extends","displayName","defaultProps","FormContext","createContext","controlId","FormCheckInput","id","bsPrefix","bsCustomPrefix","isValid","isInvalid","isStatic","_useContext","useContext","_ref2","custom","prefix","defaultPrefix","useBootstrapPrefix","FormCheckLabel","htmlFor","FormCheck","inline","feedback","title","label","propCustom","innerFormContext","useMemo","hasLabel","Provider","Fragment","Input","Label","FormFileInput","lang","FormFileLabel","FormFile","dataBrowse","_ref$inputAs","inputAs","FormControl","_classes","size","plaintext","_classes2","_classes3","_classes4","_classes5","FormGroup","context","FormLabel","column","srOnly","columnClass","Col","FormText","muted","Switch","rHyphen","pascalCase","str","toUpperCase","replace","_","chr","Form","validated","Row","_temp","_ref$displayName","_ref$Component","BsComponent","_ref2$as","Tag","resolvedPrefix","createWithBsPrefix","Group","Control","Check","File","Text","__extends","extendStatics","d","b","setPrototypeOf","__proto__","Array","__","constructor","Preview","_super","_this","state","loading","componentDidMount","generatePreview","componentDidUpdate","prevProps","prevState","markdown","generateMarkdownPreview","then","setState","render","content","minHeight","loadingPreview","refObject","_b","finalHtml","dangerouslySetInnerHTML","__html","TextArea","TextAreaCaretPosition_1","InsertTextAtPosition_1","Math_1","SuggestionsDropdown_1","currentLoadSuggestionsPromise","Promise","resolve","suggestionsPromiseIndex","getTextArea","handleOnChange","onChange","target","handleBlur","mention","status","startLoadingSuggestions","promiseIndex","loadSuggestions","triggeredBy","loadEmptySuggestion","getCaretCoordinates","startPosition","handleSuggestionSelected","substr","handleKeyDown","onPossibleKeyCommand","suggestionsEnabled","shiftKey","focusDelta","mod","handleKeyUp","suggestionTriggerCharacters","searchText","prevChar","charAt","includes","handleKeyPress","indexOf","test","textAreaProps","height","suggestionsDropdownClasses","textAreaComponent","onPaste","onDrop","TextAreaComponent","onBlur","onKeyDown","onKeyUp","onKeyPress","onDragOver","stopPropagation","properties","isBrowser","window","isFirefox","mozInnerScreenX","element","append","Error","div","body","computed","getComputedStyle","currentStyle","whiteSpace","wordWrap","position","visibility","forEach","prop","scrollHeight","overflowY","overflow","textContent","substring","span","coordinates","offsetTop","offsetLeft","lineHeight","removeChild","Toolbar","ToolbarButtonGroup_1","ToolbarButton_1","handleTabChange","tab","onTabChange","l18n","buttons","onCommand","disablePreview","writeButtonProps","previewButtonProps","writePreviewTabs","selected","write","commandGroup","c","j","commandName","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","rejected","result","done","__generator","f","y","g","sent","trys","ops","verb","Symbol","iterator","v","op","TypeError","pop","push","ReactMde","_1","defaults_1","react_mde_en_1","icons_1","command_orchestrator_1","handleTextChange","handlePaste","paste","saveImage","commandOrchestrator","executePasteCommand","handleDrop","executeDropCommand","handleImageSelection","executeSelectImageCommand","newTab","handleCommand","executeCommand","finalRefs","refs","createRef","CommandOrchestrator","commands","minEditorHeight","Math","min","maxEditorHeight","editorHeight","initialEditorHeight","getIcon","toolbarCommands","minPreviewHeight","childProps","selectedTab","finalChildProps","toolbarButtons","group","command","getCommand","reactMde","toolbar","commandButtons","writeButton","previewButton","invisible","textArea","suggestionsDropdown","handlePossibleKeyCommand","accept","multiple","pasteDropSelect","getDefaultCommandMap","getDefaultToolbarCommands","SvgIcon","enL18n","headerCommand","MarkdownUtil_1","execute","initialState","api","newSelectionRange","selectWord","state1","state2","replaceSelection","selectedText","setHeader","textApi","boldCommand","handleKeyCommand","ctrlKey","metaKey","italicCommand","strikeThroughCommand","linkCommand","quoteCommand","breaksBeforeCount","getBreaksNeededForEmptyLineBefore","breaksBefore","join","breaksAfterCount","getBreaksNeededForEmptyLineAfter","breaksAfter","codeCommand","selectionStart_1","selectionEnd_1","checkedListCommand","orderedListCommand","unorderedListCommand","makeList","insertBeforeEachLine","insertBefore","lines","split","insertionLength","modifiedText","item","insertionResult","state0","oneLinerOffset","imageCommand","imageTemplate","saveImageCommand","files_1","dataTransferToArray","items","kind","getAsFile","pasteContext","_c","_i","placeHolder","blob","blobContents","imageUrl","newState","realImageMarkdown","selectionDelta","_d","clipboardData","isPasteEvent","dataTransfer","isDragEvent","list","fileListToArray","files","uploadingImage","readFileAsync","getState","file","reader","FileReader","onload","onerror","readAsArrayBuffer","checkedListIcon","role","xmlns","viewBox","fill","orderedListIcon","unorderedListIcon","imageIcon","codeIcon","quoteIcon","linkIcon","strikeThroughIcon","italicIcon","headerIcon","boldIcon","getStateFromTextArea","TextAreaTextApi","__1","command_utils_1","customCommands","pasteOptions","commandMap","keyActivatedCommands","r","extractKeyActivatedCommands","isExecuting","getDefaultSaveImageCommandName","getCommandByName","getSurroundingWord","isWordDelimiter","charCodeAt","neededBreaks","isInFirstLine","isInLastLine","default","_len","validators","_key","allPropTypes","_len2","args","_key2","error","validator","_createChainableTypeChecker2","obj","_createChainableTypeChecker","__esModule","module","warning","isString","classValue","isNonEmptyArray","isArray","isClassDictionary","classValues","inner","validate","checkType","propName","componentName","location","propFullName","componentNameSafe","propFullNameSafe","concat","chainedCheckType","bind","MarkdownUtil","components_1","headerCommand_1","boldCommand_1","italicCommand_1","strikeThroughCommand_1","linkCommand_1","quoteCommand_1","codeCommand_1","listCommands_1","imageCommand_1","save_image_command_1","header","bold","italic","strikethrough","link","quote","code","image"],"mappings":"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","file":"static/js/2.6197405f.chunk.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./ToolbarButtonGroup\"), exports);\n__exportStar(require(\"./ToolbarButton\"), exports);\n__exportStar(require(\"../icons/MdeFontAwesomeIcon\"), exports);\n__exportStar(require(\"./Preview\"), exports);\n__exportStar(require(\"./TextArea\"), exports);\n__exportStar(require(\"./Toolbar\"), exports);\n__exportStar(require(\"./ReactMde\"), exports);\n__exportStar(require(\"./SuggestionsDropdown\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolbarButtonGroup = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nexports.ToolbarButtonGroup = function (props) {\n    return (React.createElement(\"ul\", { className: ClassNames_1.classNames(\"mde-header-group\", { hidden: props.hidden }) }, props.children));\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolbarButton = void 0;\nvar React = require(\"react\");\nvar defaultButtonProps = {\n    tabIndex: -1\n};\nexports.ToolbarButton = function (props) {\n    var buttonComponentClass = props.buttonComponentClass, buttonContent = props.buttonContent, buttonProps = props.buttonProps, onClick = props.onClick, readOnly = props.readOnly, name = props.name;\n    var finalButtonProps = __assign(__assign({}, defaultButtonProps), (buttonProps || {}));\n    var finalButtonComponent = buttonComponentClass || \"button\";\n    return (React.createElement(\"li\", { className: \"mde-header-item\" }, React.createElement(finalButtonComponent, __assign(__assign({ \"data-name\": name }, finalButtonProps), {\n        onClick: onClick,\n        disabled: readOnly,\n        type: \"button\"\n    }), buttonContent)));\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MdeFontAwesomeIcon = void 0;\nvar React = require(\"react\");\nexports.MdeFontAwesomeIcon = function (_a) {\n    var icon = _a.icon;\n    var transformedIcon = icon;\n    switch (icon) {\n        case \"header\":\n            transformedIcon = \"heading\";\n            break;\n        case \"quote\":\n            transformedIcon = \"quote-right\";\n            break;\n        case \"unordered-list\":\n            transformedIcon = \"tasks\";\n            break;\n        case \"ordered-list\":\n            transformedIcon = \"list-ol\";\n            break;\n        case \"checked-list\":\n            transformedIcon = \"tasks\";\n            break;\n        default:\n            transformedIcon = icon;\n    }\n    return React.createElement(\"i\", { className: \"fas fa-\" + transformedIcon, \"aria-hidden\": \"true\" });\n};\n","\"use strict\";\n/*!\n * The MIT License\n   Copyright (c) 2018 Dmitriy Kubyshkin\n   Copied from https://github.com/grassator/insert-text-at-cursor\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.insertText = void 0;\n/**\n * Inserts the given text at the cursor. If the element contains a selection, the selection\n * will be replaced by the text.\n */\nfunction insertText(input, text) {\n    // Most of the used APIs only work with the field selected\n    input.focus();\n    // IE 8-10\n    if (document.selection) {\n        var ieRange = document.selection.createRange();\n        ieRange.text = text;\n        // Move cursor after the inserted text\n        ieRange.collapse(false /* to the end */);\n        ieRange.select();\n        return;\n    }\n    // Webkit + Edge\n    var isSuccess = document.execCommand(\"insertText\", false, text);\n    if (!isSuccess) {\n        var start = input.selectionStart;\n        var end = input.selectionEnd;\n        // Firefox (non-standard method)\n        if (typeof input.setRangeText === \"function\") {\n            input.setRangeText(text);\n        }\n        else {\n            if (canManipulateViaTextNodes(input)) {\n                var textNode = document.createTextNode(text);\n                var node = input.firstChild;\n                // If textarea is empty, just insert the text\n                if (!node) {\n                    input.appendChild(textNode);\n                }\n                else {\n                    // Otherwise we need to find a nodes for start and end\n                    var offset = 0;\n                    var startNode = null;\n                    var endNode = null;\n                    // To make a change we just need a Range, not a Selection\n                    var range = document.createRange();\n                    while (node && (startNode === null || endNode === null)) {\n                        var nodeLength = node.nodeValue.length;\n                        // if start of the selection falls into current node\n                        if (start >= offset && start <= offset + nodeLength) {\n                            range.setStart((startNode = node), start - offset);\n                        }\n                        // if end of the selection falls into current node\n                        if (end >= offset && end <= offset + nodeLength) {\n                            range.setEnd((endNode = node), end - offset);\n                        }\n                        offset += nodeLength;\n                        node = node.nextSibling;\n                    }\n                    // If there is some text selected, remove it as we should replace it\n                    if (start !== end) {\n                        range.deleteContents();\n                    }\n                    // Finally insert a new node. The browser will automatically\n                    // split start and end nodes into two if necessary\n                    range.insertNode(textNode);\n                }\n            }\n            else {\n                // For the text input the only way is to replace the whole value :(\n                var value = input.value;\n                input.value = value.slice(0, start) + text + value.slice(end);\n            }\n        }\n        // Correct the cursor position to be at the end of the insertion\n        input.setSelectionRange(start + text.length, start + text.length);\n        // Notify any possible listeners of the change\n        var e = document.createEvent(\"UIEvent\");\n        e.initEvent(\"input\", true, false);\n        input.dispatchEvent(e);\n    }\n}\nexports.insertText = insertText;\nfunction canManipulateViaTextNodes(input) {\n    if (input.nodeName !== \"TEXTAREA\") {\n        return false;\n    }\n    var browserSupportsTextareaTextNodes;\n    if (typeof browserSupportsTextareaTextNodes === \"undefined\") {\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = \"1\";\n        browserSupportsTextareaTextNodes = !!textarea.firstChild;\n    }\n    return browserSupportsTextareaTextNodes;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SuggestionsDropdown = void 0;\nvar React = require(\"react\");\nvar react_1 = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nexports.SuggestionsDropdown = function (_a) {\n    var classes = _a.classes, suggestions = _a.suggestions, caret = _a.caret, onSuggestionSelected = _a.onSuggestionSelected, focusIndex = _a.focusIndex, textAreaRef = _a.textAreaRef;\n    var handleSuggestionClick = react_1.useCallback(function (event) {\n        event.preventDefault();\n        var index = parseInt(event.currentTarget.attributes[\"data-index\"].value);\n        onSuggestionSelected(index);\n    }, [suggestions]);\n    // onMouseDown should be cancelled because onClick will handle it propertly. This way, the textarea does not lose\n    // focus\n    var handleMouseDown = react_1.useCallback(function (event) { return event.preventDefault(); }, []);\n    return (React.createElement(\"ul\", { className: ClassNames_1.classNames(\"mde-suggestions\", classes), style: {\n            left: caret.left - textAreaRef.current.scrollLeft,\n            top: caret.top - textAreaRef.current.scrollTop\n        } }, suggestions.map(function (s, i) { return (React.createElement(\"li\", { onClick: handleSuggestionClick, onMouseDown: handleMouseDown, key: i, \"aria-selected\": focusIndex === i ? \"true\" : \"false\", \"data-index\": \"\" + i }, s.preview)); })));\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./MdeFontAwesomeIcon\"), exports);\n__exportStar(require(\"./SvgIcon\"), exports);\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nvar propTypes = {\n  /**\n   * Specify whether the feedback is for valid or invalid fields\n   *\n   * @type {('valid'|'invalid')}\n   */\n  type: PropTypes.string.isRequired,\n  as: PropTypes.elementType\n};\nvar defaultProps = {\n  type: 'valid'\n};\nvar Feedback = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      type = _ref.type,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"className\", \"type\"]);\n\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, type && type + \"-feedback\")\n  }));\n});\nFeedback.displayName = 'Feedback';\nFeedback.propTypes = propTypes;\nFeedback.defaultProps = defaultProps;\nexport default Feedback;","import React from 'react';\nvar FormContext = React.createContext({\n  controlId: undefined\n});\nexport default FormContext;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  type: 'checkbox'\n};\nvar FormCheckInput = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      isStatic = _ref.isStatic,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"isValid\", \"isInvalid\", \"isStatic\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-input'] : [bsPrefix, 'form-check-input'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    id: id || controlId,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid', isStatic && 'position-static')\n  }));\n});\nFormCheckInput.displayName = 'FormCheckInput';\nFormCheckInput.defaultProps = defaultProps;\nexport default FormCheckInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormCheckLabel = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control-label'] : [bsPrefix, 'form-check-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix)\n  }));\n});\nFormCheckLabel.displayName = 'FormCheckLabel';\nexport default FormCheckLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext, useMemo } from 'react';\nimport Feedback from './Feedback';\nimport FormCheckInput from './FormCheckInput';\nimport FormCheckLabel from './FormCheckLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  type: 'checkbox',\n  inline: false,\n  disabled: false,\n  isValid: false,\n  isInvalid: false,\n  title: ''\n};\nvar FormCheck = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      inline = _ref.inline,\n      disabled = _ref.disabled,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      title = _ref.title,\n      type = _ref.type,\n      label = _ref.label,\n      children = _ref.children,\n      propCustom = _ref.custom,\n      _ref$as = _ref.as,\n      as = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"inline\", \"disabled\", \"isValid\", \"isInvalid\", \"feedback\", \"className\", \"style\", \"title\", \"type\", \"label\", \"children\", \"custom\", \"as\"]);\n\n  var custom = type === 'switch' ? true : propCustom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-control'] : [bsPrefix, 'form-check'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormCheckInput, _extends({}, props, {\n    type: type === 'switch' ? 'checkbox' : type,\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    isStatic: !hasLabel,\n    disabled: disabled,\n    as: as\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type, inline && bsPrefix + \"-inline\")\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormCheckLabel, {\n    title: title\n  }, label), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid'\n  }, feedback))));\n});\nFormCheck.displayName = 'FormCheck';\nFormCheck.defaultProps = defaultProps;\nFormCheck.Input = FormCheckInput;\nFormCheck.Label = FormCheckLabel;\nexport default FormCheck;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileInput = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      lang = _ref.lang,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"className\", \"isValid\", \"isInvalid\", \"lang\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var type = 'file';\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-input'] : [bsPrefix, 'form-control-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    id: id || controlId,\n    type: type,\n    lang: lang,\n    className: classNames(className, bsPrefix, isValid && 'is-valid', isInvalid && 'is-invalid')\n  }));\n});\nFormFileInput.displayName = 'FormFileInput';\nexport default FormFileInput;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormFileLabel = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId,\n      custom = _useContext.custom;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom-file-label'] : [bsPrefix, 'form-file-label'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  return /*#__PURE__*/React.createElement(\"label\", _extends({}, props, {\n    ref: ref,\n    htmlFor: htmlFor || controlId,\n    className: classNames(className, bsPrefix),\n    \"data-browse\": props['data-browse']\n  }));\n});\nFormFileLabel.displayName = 'FormFileLabel';\nexport default FormFileLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext, useMemo } from 'react';\nimport all from 'prop-types-extra/lib/all';\nimport Feedback from './Feedback';\nimport FormFileInput from './FormFileInput';\nimport FormFileLabel from './FormFileLabel';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  disabled: false,\n  isValid: false,\n  isInvalid: false\n};\nvar FormFile = React.forwardRef(function (_ref, ref) {\n  var id = _ref.id,\n      bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      disabled = _ref.disabled,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      feedback = _ref.feedback,\n      className = _ref.className,\n      style = _ref.style,\n      label = _ref.label,\n      children = _ref.children,\n      custom = _ref.custom,\n      lang = _ref.lang,\n      dataBrowse = _ref['data-browse'],\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      _ref$inputAs = _ref.inputAs,\n      inputAs = _ref$inputAs === void 0 ? 'input' : _ref$inputAs,\n      props = _objectWithoutPropertiesLoose(_ref, [\"id\", \"bsPrefix\", \"bsCustomPrefix\", \"disabled\", \"isValid\", \"isInvalid\", \"feedback\", \"className\", \"style\", \"label\", \"children\", \"custom\", \"lang\", \"data-browse\", \"as\", \"inputAs\"]);\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-file'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var type = 'file';\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var innerFormContext = useMemo(function () {\n    return {\n      controlId: id || controlId,\n      custom: custom\n    };\n  }, [controlId, custom, id]);\n  var hasLabel = label != null && label !== false && !children;\n  var input = /*#__PURE__*/React.createElement(FormFileInput, _extends({}, props, {\n    ref: ref,\n    isValid: isValid,\n    isInvalid: isInvalid,\n    disabled: disabled,\n    as: inputAs,\n    lang: lang\n  }));\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: innerFormContext\n  }, /*#__PURE__*/React.createElement(Component, {\n    style: style,\n    className: classNames(className, bsPrefix, custom && \"custom-\" + type)\n  }, children || /*#__PURE__*/React.createElement(React.Fragment, null, custom ? /*#__PURE__*/React.createElement(React.Fragment, null, input, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, {\n    \"data-browse\": dataBrowse\n  }, label)) : /*#__PURE__*/React.createElement(React.Fragment, null, hasLabel && /*#__PURE__*/React.createElement(FormFileLabel, null, label), input), (isValid || isInvalid) && /*#__PURE__*/React.createElement(Feedback, {\n    type: isValid ? 'valid' : 'invalid'\n  }, feedback))));\n});\nFormFile.displayName = 'FormFile';\nFormFile.defaultProps = defaultProps;\nFormFile.Input = FormFileInput;\nFormFile.Label = FormFileLabel;\nexport default FormFile;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport all from 'prop-types-extra/lib/all';\nimport React, { useContext } from 'react';\nimport warning from 'warning';\nimport Feedback from './Feedback';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormControl = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      bsCustomPrefix = _ref.bsCustomPrefix,\n      type = _ref.type,\n      size = _ref.size,\n      id = _ref.id,\n      className = _ref.className,\n      isValid = _ref.isValid,\n      isInvalid = _ref.isInvalid,\n      plaintext = _ref.plaintext,\n      readOnly = _ref.readOnly,\n      custom = _ref.custom,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'input' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"bsCustomPrefix\", \"type\", \"size\", \"id\", \"className\", \"isValid\", \"isInvalid\", \"plaintext\", \"readOnly\", \"custom\", \"as\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  var _ref2 = custom ? [bsCustomPrefix, 'custom'] : [bsPrefix, 'form-control'],\n      prefix = _ref2[0],\n      defaultPrefix = _ref2[1];\n\n  bsPrefix = useBootstrapPrefix(prefix, defaultPrefix);\n  var classes;\n\n  if (plaintext) {\n    var _classes;\n\n    classes = (_classes = {}, _classes[bsPrefix + \"-plaintext\"] = true, _classes);\n  } else if (type === 'file') {\n    var _classes2;\n\n    classes = (_classes2 = {}, _classes2[bsPrefix + \"-file\"] = true, _classes2);\n  } else if (type === 'range') {\n    var _classes3;\n\n    classes = (_classes3 = {}, _classes3[bsPrefix + \"-range\"] = true, _classes3);\n  } else if (Component === 'select' && custom) {\n    var _classes4;\n\n    classes = (_classes4 = {}, _classes4[bsPrefix + \"-select\"] = true, _classes4[bsPrefix + \"-select-\" + size] = size, _classes4);\n  } else {\n    var _classes5;\n\n    classes = (_classes5 = {}, _classes5[bsPrefix] = true, _classes5[bsPrefix + \"-\" + size] = size, _classes5);\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !id, '`controlId` is ignored on `<FormControl>` when `id` is specified.') : void 0;\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    type: type,\n    ref: ref,\n    readOnly: readOnly,\n    id: id || controlId,\n    className: classNames(className, classes, isValid && \"is-valid\", isInvalid && \"is-invalid\")\n  }));\n});\nFormControl.displayName = 'FormControl';\nFormControl.Feedback = Feedback;\nexport default FormControl;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormGroup = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      children = _ref.children,\n      controlId = _ref.controlId,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"children\", \"controlId\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-group');\n  var context = useMemo(function () {\n    return {\n      controlId: controlId\n    };\n  }, [controlId]);\n  return /*#__PURE__*/React.createElement(FormContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix)\n  }), children));\n});\nFormGroup.displayName = 'FormGroup';\nexport default FormGroup;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React, { useContext } from 'react';\nimport warning from 'warning';\nimport Col from './Col';\nimport FormContext from './FormContext';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  column: false,\n  srOnly: false\n};\nvar FormLabel = React.forwardRef(function (_ref, ref) {\n  var _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'label' : _ref$as,\n      bsPrefix = _ref.bsPrefix,\n      column = _ref.column,\n      srOnly = _ref.srOnly,\n      className = _ref.className,\n      htmlFor = _ref.htmlFor,\n      props = _objectWithoutPropertiesLoose(_ref, [\"as\", \"bsPrefix\", \"column\", \"srOnly\", \"className\", \"htmlFor\"]);\n\n  var _useContext = useContext(FormContext),\n      controlId = _useContext.controlId;\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-label');\n  var columnClass = 'col-form-label';\n  if (typeof column === 'string') columnClass = columnClass + \"-\" + column;\n  var classes = classNames(className, bsPrefix, srOnly && 'sr-only', column && columnClass);\n  process.env.NODE_ENV !== \"production\" ? warning(controlId == null || !htmlFor, '`controlId` is ignored on `<FormLabel>` when `htmlFor` is specified.') : void 0;\n  htmlFor = htmlFor || controlId;\n  if (column) return /*#__PURE__*/React.createElement(Col, _extends({\n    as: \"label\",\n    className: classes,\n    htmlFor: htmlFor\n  }, props));\n  return (\n    /*#__PURE__*/\n    // eslint-disable-next-line jsx-a11y/label-has-for, jsx-a11y/label-has-associated-control\n    React.createElement(Component, _extends({\n      ref: ref,\n      className: classes,\n      htmlFor: htmlFor\n    }, props))\n  );\n});\nFormLabel.displayName = 'FormLabel';\nFormLabel.defaultProps = defaultProps;\nexport default FormLabel;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar FormText = React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'small' : _ref$as,\n      muted = _ref.muted,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"className\", \"as\", \"muted\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form-text');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, bsPrefix, muted && 'text-muted')\n  }));\n});\nFormText.displayName = 'FormText';\nexport default FormText;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport FormCheck from './FormCheck';\nvar Switch = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(FormCheck, _extends({}, props, {\n    ref: ref,\n    type: \"switch\"\n  }));\n});\nSwitch.displayName = 'Switch';\nSwitch.Input = FormCheck.Input;\nSwitch.Label = FormCheck.Label;\nexport default Switch;","var rHyphen = /-(.)/g;\nexport default function camelize(string) {\n  return string.replace(rHyphen, function (_, chr) {\n    return chr.toUpperCase();\n  });\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport camelize from 'dom-helpers/camelize';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\n\nvar pascalCase = function pascalCase(str) {\n  return str[0].toUpperCase() + camelize(str).slice(1);\n};\n\nexport default function createWithBsPrefix(prefix, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$displayName = _ref.displayName,\n      displayName = _ref$displayName === void 0 ? pascalCase(prefix) : _ref$displayName,\n      _ref$Component = _ref.Component,\n      Component = _ref$Component === void 0 ? 'div' : _ref$Component,\n      defaultProps = _ref.defaultProps;\n\n  var BsComponent = React.forwardRef( // eslint-disable-next-line react/prop-types\n  function (_ref2, ref) {\n    var className = _ref2.className,\n        bsPrefix = _ref2.bsPrefix,\n        _ref2$as = _ref2.as,\n        Tag = _ref2$as === void 0 ? Component : _ref2$as,\n        props = _objectWithoutPropertiesLoose(_ref2, [\"className\", \"bsPrefix\", \"as\"]);\n\n    var resolvedPrefix = useBootstrapPrefix(bsPrefix, prefix);\n    return /*#__PURE__*/React.createElement(Tag, _extends({\n      ref: ref,\n      className: classNames(className, resolvedPrefix)\n    }, props));\n  });\n  BsComponent.defaultProps = defaultProps;\n  BsComponent.displayName = displayName;\n  return BsComponent;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport FormCheck from './FormCheck';\nimport FormFile from './FormFile';\nimport FormControl from './FormControl';\nimport FormGroup from './FormGroup';\nimport FormLabel from './FormLabel';\nimport FormText from './FormText';\nimport Switch from './Switch';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nvar defaultProps = {\n  inline: false\n};\nvar Form = React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      inline = _ref.inline,\n      className = _ref.className,\n      validated = _ref.validated,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'form' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, [\"bsPrefix\", \"inline\", \"className\", \"validated\", \"as\"]);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'form');\n  return /*#__PURE__*/React.createElement(Component, _extends({}, props, {\n    ref: ref,\n    className: classNames(className, validated && 'was-validated', inline && bsPrefix + \"-inline\")\n  }));\n});\nForm.displayName = 'Form';\nForm.defaultProps = defaultProps;\nForm.Row = createWithBsPrefix('form-row');\nForm.Group = FormGroup;\nForm.Control = FormControl;\nForm.Check = FormCheck;\nForm.File = FormFile;\nForm.Switch = Switch;\nForm.Label = FormLabel;\nForm.Text = FormText;\nexport default Form;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Preview = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar Preview = /** @class */ (function (_super) {\n    __extends(Preview, _super);\n    function Preview(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = {\n            loading: true\n        };\n        return _this;\n    }\n    Preview.prototype.componentDidMount = function () {\n        this.generatePreview();\n    };\n    Preview.prototype.componentDidUpdate = function (prevProps, prevState) {\n        if (this.props.markdown !== prevProps.markdown) {\n            this.generatePreview();\n        }\n    };\n    Preview.prototype.generatePreview = function () {\n        var _this = this;\n        var _a = this.props, markdown = _a.markdown, generateMarkdownPreview = _a.generateMarkdownPreview;\n        generateMarkdownPreview(markdown).then(function (preview) {\n            _this.setState({\n                preview: preview,\n                loading: false\n            });\n        });\n    };\n    Preview.prototype.render = function () {\n        var _a = this.props, classes = _a.classes, minHeight = _a.minHeight, loadingPreview = _a.loadingPreview, refObject = _a.refObject;\n        var _b = this.state, preview = _b.preview, loading = _b.loading;\n        var finalHtml = loading ? loadingPreview : preview;\n        var content;\n        if (typeof finalHtml === \"string\") {\n            content = (React.createElement(\"div\", { className: \"mde-preview-content\", dangerouslySetInnerHTML: { __html: finalHtml || \"<p>&nbsp;</p>\" }, ref: refObject }));\n        }\n        else {\n            content = React.createElement(\"div\", { className: \"mde-preview-content\" }, finalHtml);\n        }\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"mde-preview\", classes, { loading: loading }), style: { minHeight: minHeight + 10 }, \"data-testid\": \"mde-preview\" }, content));\n    };\n    return Preview;\n}(React.Component));\nexports.Preview = Preview;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextArea = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar TextAreaCaretPosition_1 = require(\"../util/TextAreaCaretPosition\");\nvar InsertTextAtPosition_1 = require(\"../util/InsertTextAtPosition\");\nvar Math_1 = require(\"../util/Math\");\nvar SuggestionsDropdown_1 = require(\"./SuggestionsDropdown\");\nvar TextArea = /** @class */ (function (_super) {\n    __extends(TextArea, _super);\n    function TextArea(props) {\n        var _this = _super.call(this, props) || this;\n        _this.currentLoadSuggestionsPromise = Promise.resolve(undefined);\n        /**\n         * suggestionsPromiseIndex exists as a means to cancel what happens when the suggestions promise finishes loading.\n         *\n         * When the user is searching for suggestions, there is a promise that, when resolved, causes a re-render.\n         * However, in case there is another promise to be resolved after the current one, it does not make sense to re-render\n         * only to re-render again after the next one is complete.\n         *\n         * When there is a promise loading and the user cancels the suggestion, you don't want the status to go back to \"active\"\n         * when the promise resolves.\n         *\n         * suggestionsPromiseIndex increments every time the mentions query\n         */\n        _this.suggestionsPromiseIndex = 0;\n        _this.getTextArea = function () {\n            return _this.props.refObject.current;\n        };\n        _this.handleOnChange = function (event) {\n            var onChange = _this.props.onChange;\n            onChange(event.target.value);\n        };\n        _this.handleBlur = function () {\n            var mention = _this.state.mention;\n            if (mention) {\n                _this.setState({ mention: { status: \"inactive\", suggestions: [] } });\n            }\n        };\n        _this.startLoadingSuggestions = function (text) {\n            var promiseIndex = ++_this.suggestionsPromiseIndex;\n            var loadSuggestions = _this.props.loadSuggestions;\n            _this.currentLoadSuggestionsPromise = _this.currentLoadSuggestionsPromise\n                .then(function () { return loadSuggestions(text, _this.state.mention.triggeredBy); })\n                .then(function (suggestions) {\n                if (_this.state.mention.status === \"inactive\") {\n                    // This means this promise resolved too late when the status has already been set to inactice\n                    return;\n                }\n                else if (_this.suggestionsPromiseIndex === promiseIndex) {\n                    if (!suggestions || !suggestions.length) {\n                        _this.setState({\n                            mention: {\n                                status: \"inactive\",\n                                suggestions: []\n                            }\n                        });\n                    }\n                    else {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"active\", suggestions: suggestions, focusIndex: 0 })\n                        });\n                    }\n                    _this.suggestionsPromiseIndex = 0;\n                }\n                return Promise.resolve();\n            });\n        };\n        _this.loadEmptySuggestion = function (target, key) {\n            var caret = TextAreaCaretPosition_1.getCaretCoordinates(target, key);\n            _this.startLoadingSuggestions(\"\");\n            _this.setState({\n                mention: {\n                    status: \"loading\",\n                    startPosition: target.selectionStart + 1,\n                    caret: caret,\n                    suggestions: [],\n                    triggeredBy: key\n                }\n            });\n        };\n        _this.handleSuggestionSelected = function (index) {\n            var mention = _this.state.mention;\n            _this.getTextArea().selectionStart = mention.startPosition - 1;\n            var textForInsert = _this.props.value.substr(_this.getTextArea().selectionStart, _this.getTextArea().selectionEnd - _this.getTextArea().selectionStart);\n            InsertTextAtPosition_1.insertText(_this.getTextArea(), mention.suggestions[index].value + \" \");\n            _this.setState({\n                mention: {\n                    status: \"inactive\",\n                    suggestions: []\n                }\n            });\n        };\n        _this.handleKeyDown = function (event) {\n            if (_this.props.onPossibleKeyCommand) {\n                var handled = _this.props.onPossibleKeyCommand(event);\n                if (handled) {\n                    event.preventDefault();\n                    // If the keydown resulted in a command being executed, we will just close the suggestions if they are open.\n                    // Resetting suggestionsPromiseIndex will cause any promise that is yet to be resolved to have no effect\n                    // when they finish loading.\n                    // TODO: The code below is duplicate, we need to clean this up\n                    _this.suggestionsPromiseIndex = 0;\n                    _this.setState({\n                        mention: {\n                            status: \"inactive\",\n                            suggestions: []\n                        }\n                    });\n                    return;\n                }\n            }\n            if (!_this.suggestionsEnabled()) {\n                return;\n            }\n            var key = event.key, shiftKey = event.shiftKey, currentTarget = event.currentTarget;\n            var selectionStart = currentTarget.selectionStart;\n            var mention = _this.state.mention;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \"Escape\" ||\n                        (key === \"Backspace\" &&\n                            selectionStart <= _this.state.mention.startPosition)) {\n                        // resetting suggestionsPromiseIndex will cause any promise that is yet to be resolved to have no effect\n                        // when they finish loading.\n                        _this.suggestionsPromiseIndex = 0;\n                        _this.setState({\n                            mention: {\n                                status: \"inactive\",\n                                suggestions: []\n                            }\n                        });\n                    }\n                    else if (mention.status === \"active\" &&\n                        (key === \"ArrowUp\" || key === \"ArrowDown\") &&\n                        !shiftKey) {\n                        event.preventDefault();\n                        var focusDelta = key === \"ArrowUp\" ? -1 : 1;\n                        _this.setState({\n                            mention: __assign(__assign({}, mention), { focusIndex: Math_1.mod(mention.focusIndex + focusDelta, mention.suggestions.length) })\n                        });\n                    }\n                    else if (key === \"Enter\" &&\n                        mention.status === \"active\" &&\n                        mention.suggestions.length) {\n                        event.preventDefault();\n                        _this.handleSuggestionSelected(mention.focusIndex);\n                    }\n                    break;\n                default:\n                // Ignore\n            }\n        };\n        _this.handleKeyUp = function (event) {\n            var key = event.key;\n            var mention = _this.state.mention;\n            var _a = _this.props, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, value = _a.value;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \"Backspace\") {\n                        var searchText = value.substr(mention.startPosition, _this.getTextArea().selectionStart - mention.startPosition);\n                        _this.startLoadingSuggestions(searchText);\n                        if (mention.status !== \"loading\") {\n                            _this.setState({\n                                mention: __assign(__assign({}, _this.state.mention), { status: \"loading\" })\n                            });\n                        }\n                    }\n                    break;\n                case \"inactive\":\n                    if (key === \"Backspace\") {\n                        var prevChar = value.charAt(_this.getTextArea().selectionStart - 1);\n                        var isAtMention = suggestionTriggerCharacters.includes(value.charAt(_this.getTextArea().selectionStart - 1));\n                        if (isAtMention) {\n                            _this.loadEmptySuggestion(event.currentTarget, prevChar);\n                        }\n                    }\n                    break;\n                default:\n                // Ignore\n            }\n        };\n        _this.handleKeyPress = function (event) {\n            var _a = _this.props, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, value = _a.value;\n            var mention = _this.state.mention;\n            var key = event.key;\n            switch (mention.status) {\n                case \"loading\":\n                case \"active\":\n                    if (key === \" \") {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"inactive\" })\n                        });\n                        return;\n                    }\n                    var searchText = value.substr(mention.startPosition, _this.getTextArea().selectionStart - mention.startPosition) + key;\n                    // In this case, the mentions box was open but the user typed something else\n                    _this.startLoadingSuggestions(searchText);\n                    if (mention.status !== \"loading\") {\n                        _this.setState({\n                            mention: __assign(__assign({}, _this.state.mention), { status: \"loading\" })\n                        });\n                    }\n                    break;\n                case \"inactive\":\n                    if (suggestionTriggerCharacters.indexOf(event.key) === -1 ||\n                        !/\\s|\\(|\\[|^.{0}$/.test(value.charAt(_this.getTextArea().selectionStart - 1))) {\n                        return;\n                    }\n                    _this.loadEmptySuggestion(event.currentTarget, event.key);\n                    break;\n            }\n        };\n        _this.state = { mention: { status: \"inactive\", suggestions: [] } };\n        return _this;\n    }\n    TextArea.prototype.suggestionsEnabled = function () {\n        return (this.props.suggestionTriggerCharacters &&\n            this.props.suggestionTriggerCharacters.length &&\n            this.props.loadSuggestions);\n    };\n    TextArea.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, classes = _a.classes, readOnly = _a.readOnly, textAreaProps = _a.textAreaProps, height = _a.height, value = _a.value, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, loadSuggestions = _a.loadSuggestions, suggestionsDropdownClasses = _a.suggestionsDropdownClasses, textAreaComponent = _a.textAreaComponent, onPaste = _a.onPaste, onDrop = _a.onDrop;\n        var suggestionsEnabled = suggestionTriggerCharacters &&\n            suggestionTriggerCharacters.length &&\n            loadSuggestions;\n        var mention = this.state.mention;\n        var TextAreaComponent = (textAreaComponent ||\n            \"textarea\");\n        return (React.createElement(\"div\", { className: \"mde-textarea-wrapper\" },\n            React.createElement(TextAreaComponent, __assign({ className: ClassNames_1.classNames(\"mde-text\", classes), style: { height: height }, ref: this.props.refObject, readOnly: readOnly, value: value, \"data-testid\": \"text-area\" }, textAreaProps, { onChange: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onChange) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    _this.handleOnChange(event);\n                }, onBlur: function (event) {\n                    var _a;\n                    if (suggestionsEnabled) {\n                        (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onBlur) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                        _this.handleBlur();\n                    }\n                }, onKeyDown: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyDown) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    _this.handleKeyDown(event);\n                }, onKeyUp: function (event) {\n                    var _a;\n                    if (suggestionsEnabled) {\n                        (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyUp) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                        _this.handleKeyUp(event);\n                    }\n                }, onKeyPress: function (event) {\n                    var _a;\n                    if (suggestionsEnabled) {\n                        (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onKeyPress) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                        _this.handleKeyPress(event);\n                    }\n                }, onPaste: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onPaste) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    onPaste(event);\n                }, onDragOver: function (event) {\n                    event.preventDefault();\n                    event.stopPropagation();\n                }, onDrop: function (event) {\n                    var _a;\n                    (_a = textAreaProps === null || textAreaProps === void 0 ? void 0 : textAreaProps.onDrop) === null || _a === void 0 ? void 0 : _a.call(textAreaProps, event);\n                    onDrop(event);\n                    event.preventDefault();\n                } })),\n            mention.status === \"active\" && mention.suggestions.length && (React.createElement(SuggestionsDropdown_1.SuggestionsDropdown, { classes: suggestionsDropdownClasses, caret: mention.caret, suggestions: mention.suggestions, onSuggestionSelected: this.handleSuggestionSelected, focusIndex: mention.focusIndex, textAreaRef: this.props.refObject }))));\n    };\n    return TextArea;\n}(React.Component));\nexports.TextArea = TextArea;\n","\"use strict\";\n/* jshint browser: true */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCaretCoordinates = void 0;\n// We'll copy the properties below into the mirror div.\n// Note that some browsers, such as Firefox, do not concatenate properties\n// into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),\n// so we have to list every single property explicitly.\nvar properties = [\n    \"direction\",\n    \"boxSizing\",\n    \"width\",\n    \"height\",\n    \"overflowX\",\n    \"overflowY\",\n    \"borderTopWidth\",\n    \"borderRightWidth\",\n    \"borderBottomWidth\",\n    \"borderLeftWidth\",\n    \"borderStyle\",\n    \"paddingTop\",\n    \"paddingRight\",\n    \"paddingBottom\",\n    \"paddingLeft\",\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n    \"fontStyle\",\n    \"fontVariant\",\n    \"fontWeight\",\n    \"fontStretch\",\n    \"fontSize\",\n    \"fontSizeAdjust\",\n    \"lineHeight\",\n    \"fontFamily\",\n    \"textAlign\",\n    \"textTransform\",\n    \"textIndent\",\n    \"textDecoration\",\n    \"letterSpacing\",\n    \"wordSpacing\",\n    \"tabSize\",\n    \"MozTabSize\"\n];\nvar isBrowser = typeof window !== \"undefined\";\nvar isFirefox = isBrowser && window.mozInnerScreenX != null;\nfunction getCaretCoordinates(element, append) {\n    if (!isBrowser) {\n        throw new Error(\"getCaretCoordinates should only be called in a browser\");\n    }\n    // The mirror div will replicate the textarea's style\n    var div = document.createElement(\"div\");\n    div.id = \"input-textarea-caret-position-mirror-div\";\n    document.body.appendChild(div);\n    var style = div.style;\n    var computed = window.getComputedStyle\n        ? window.getComputedStyle(element)\n        : element.currentStyle; // currentStyle for IE < 9\n    // Default textarea styles\n    style.whiteSpace = \"pre-wrap\";\n    style.wordWrap = \"break-word\"; // only for textarea-s\n    // Position off-screen\n    style.position = \"absolute\"; // required to return coordinates properly\n    style.visibility = \"hidden\"; // not 'display: none' because we want rendering\n    // Transfer the element's properties to the div\n    properties.forEach(function (prop) {\n        style[prop] = computed[prop];\n    });\n    if (isFirefox) {\n        // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n        if (element.scrollHeight > parseInt(computed.height))\n            style.overflowY = \"scroll\";\n    }\n    else {\n        style.overflow = \"hidden\"; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n    }\n    div.textContent = element.value.substring(0, element.selectionStart);\n    if (append) {\n        div.textContent += append;\n    }\n    var span = document.createElement(\"span\");\n    // Wrapping must be replicated *exactly*, including when a long word gets\n    // onto the next line, with whitespace at the end of the line before (#7).\n    // The  *only* reliable way to do that is to copy the *entire* rest of the\n    // textarea's content into the <span> created at the caret position.\n    // For inputs, just '.' would be enough, but no need to bother.\n    span.textContent = element.value.substring(element.selectionEnd) || \".\"; // || because a completely empty faux span doesn't render at all\n    div.appendChild(span);\n    var coordinates = {\n        top: span.offsetTop + parseInt(computed[\"borderTopWidth\"]),\n        left: span.offsetLeft + parseInt(computed[\"borderLeftWidth\"]),\n        lineHeight: parseInt(computed[\"lineHeight\"])\n    };\n    document.body.removeChild(div);\n    return coordinates;\n}\nexports.getCaretCoordinates = getCaretCoordinates;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mod = void 0;\n/**\n * Calculates modulus, like %, except that it works with negative numbers\n */\nfunction mod(n, m) {\n    return ((n % m) + m) % m;\n}\nexports.mod = mod;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Toolbar = void 0;\nvar React = require(\"react\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar ToolbarButtonGroup_1 = require(\"./ToolbarButtonGroup\");\nvar ToolbarButton_1 = require(\"./ToolbarButton\");\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleTabChange = function (tab) {\n            var onTabChange = _this.props.onTabChange;\n            onTabChange(tab);\n        };\n        return _this;\n    }\n    Toolbar.prototype.render = function () {\n        var _this = this;\n        var l18n = this.props.l18n;\n        var _a = this.props, classes = _a.classes, children = _a.children, buttons = _a.buttons, onCommand = _a.onCommand, readOnly = _a.readOnly, disablePreview = _a.disablePreview, writeButtonProps = _a.writeButtonProps, previewButtonProps = _a.previewButtonProps, buttonProps = _a.buttonProps;\n        if ((!buttons || buttons.length === 0) && !children) {\n            return null;\n        }\n        var writePreviewTabs = (React.createElement(\"div\", { className: \"mde-tabs\" },\n            React.createElement(\"button\", __assign({ type: \"button\", className: ClassNames_1.classNames({ selected: this.props.tab === \"write\" }), onClick: function () { return _this.handleTabChange(\"write\"); } }, writeButtonProps), l18n.write),\n            React.createElement(\"button\", __assign({ type: \"button\", className: ClassNames_1.classNames({ selected: this.props.tab === \"preview\" }), onClick: function () { return _this.handleTabChange(\"preview\"); } }, previewButtonProps), l18n.preview)));\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"mde-header\", classes) },\n            !disablePreview && writePreviewTabs,\n            buttons.map(function (commandGroup, i) { return (React.createElement(ToolbarButtonGroup_1.ToolbarButtonGroup, { key: i, hidden: _this.props.tab === \"preview\" }, commandGroup.map(function (c, j) {\n                return (React.createElement(ToolbarButton_1.ToolbarButton, { key: j, name: c.commandName, buttonContent: c.buttonContent, buttonProps: __assign(__assign({}, (buttonProps || {})), c.buttonProps), onClick: function () { return onCommand(c.commandName); }, readOnly: readOnly, buttonComponentClass: c.buttonComponentClass }));\n            }))); })));\n    };\n    return Toolbar;\n}(React.Component));\nexports.Toolbar = Toolbar;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReactMde = void 0;\nvar React = require(\"react\");\nvar _1 = require(\".\");\nvar defaults_1 = require(\"../commands/default-commands/defaults\");\nvar react_mde_en_1 = require(\"../l18n/react-mde.en\");\nvar icons_1 = require(\"../icons\");\nvar ClassNames_1 = require(\"../util/ClassNames\");\nvar command_orchestrator_1 = require(\"../commands/command-orchestrator\");\nvar ReactMde = /** @class */ (function (_super) {\n    __extends(ReactMde, _super);\n    function ReactMde(props) {\n        var _a;\n        var _this = _super.call(this, props) || this;\n        _this.handleTextChange = function (value) {\n            var onChange = _this.props.onChange;\n            onChange(value);\n        };\n        _this.handlePaste = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executePasteCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleDrop = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executeDropCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleImageSelection = function (event) { return __awaiter(_this, void 0, void 0, function () {\n            var paste;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        paste = this.props.paste;\n                        if (!paste || !paste.saveImage) {\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, this.commandOrchestrator.executeSelectImageCommand(event)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.handleTabChange = function (newTab) {\n            var onTabChange = _this.props.onTabChange;\n            onTabChange(newTab);\n        };\n        _this.handleCommand = function (commandName) { return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.commandOrchestrator.executeCommand(commandName)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        _this.finalRefs = __assign({}, (props.refs || {}));\n        if (!_this.finalRefs.textarea) {\n            _this.finalRefs.textarea = React.createRef();\n        }\n        if (!_this.finalRefs.preview) {\n            _this.finalRefs.preview = React.createRef();\n        }\n        _this.commandOrchestrator = new command_orchestrator_1.CommandOrchestrator(_this.props.commands, _this.finalRefs.textarea, _this.props.l18n, _this.props.paste);\n        var minEditorHeight = Math.min(props.maxEditorHeight, props.minEditorHeight);\n        _this.state = {\n            editorHeight: (_a = props.initialEditorHeight) !== null && _a !== void 0 ? _a : minEditorHeight\n        };\n        return _this;\n    }\n    ReactMde.prototype.render = function () {\n        var _this = this;\n        var _a = this.props, getIcon = _a.getIcon, toolbarCommands = _a.toolbarCommands, classes = _a.classes, loadingPreview = _a.loadingPreview, readOnly = _a.readOnly, disablePreview = _a.disablePreview, value = _a.value, l18n = _a.l18n, minPreviewHeight = _a.minPreviewHeight, childProps = _a.childProps, selectedTab = _a.selectedTab, generateMarkdownPreview = _a.generateMarkdownPreview, loadSuggestions = _a.loadSuggestions, suggestionTriggerCharacters = _a.suggestionTriggerCharacters, textAreaComponent = _a.textAreaComponent;\n        var finalChildProps = childProps || {};\n        var toolbarButtons = toolbarCommands.map(function (group) {\n            return group.map(function (commandName) {\n                var command = _this.commandOrchestrator.getCommand(commandName);\n                return {\n                    commandName: commandName,\n                    buttonContent: command.icon\n                        ? command.icon(getIcon)\n                        : getIcon(commandName),\n                    buttonProps: command.buttonProps,\n                    buttonComponentClass: command.buttonComponentClass\n                };\n            });\n        });\n        return (React.createElement(\"div\", { className: ClassNames_1.classNames(\"react-mde\", \"react-mde-tabbed-layout\", classes === null || classes === void 0 ? void 0 : classes.reactMde) },\n            React.createElement(_1.Toolbar, { classes: classes === null || classes === void 0 ? void 0 : classes.toolbar, buttons: toolbarButtons, onCommand: this.handleCommand, onTabChange: this.handleTabChange, tab: selectedTab, readOnly: readOnly, disablePreview: disablePreview, l18n: l18n, buttonProps: finalChildProps.commandButtons, writeButtonProps: finalChildProps.writeButton, previewButtonProps: finalChildProps.previewButton }),\n            React.createElement(\"div\", { className: ClassNames_1.classNames({ invisible: selectedTab !== \"write\" }) },\n                React.createElement(_1.TextArea, { classes: classes === null || classes === void 0 ? void 0 : classes.textArea, suggestionsDropdownClasses: classes === null || classes === void 0 ? void 0 : classes.suggestionsDropdown, refObject: this.finalRefs.textarea, onChange: this.handleTextChange, onPaste: this.handlePaste, onDrop: this.handleDrop, readOnly: readOnly, textAreaComponent: textAreaComponent, textAreaProps: childProps && childProps.textArea, height: this.state.editorHeight, value: value, suggestionTriggerCharacters: suggestionTriggerCharacters, loadSuggestions: loadSuggestions, onPossibleKeyCommand: this.commandOrchestrator.handlePossibleKeyCommand }),\n                this.props.paste && (React.createElement(\"label\", { className: ClassNames_1.classNames(\"image-tip\") },\n                    React.createElement(\"input\", { className: ClassNames_1.classNames(\"image-input\"), type: \"file\", accept: \"image/*\", multiple: true, onChange: this.handleImageSelection }),\n                    React.createElement(\"span\", null, l18n.pasteDropSelect)))),\n            selectedTab !== \"write\" && (React.createElement(_1.Preview, { classes: classes === null || classes === void 0 ? void 0 : classes.preview, refObject: this.finalRefs.preview, loadingPreview: loadingPreview, minHeight: minPreviewHeight, generateMarkdownPreview: generateMarkdownPreview, markdown: value }))));\n    };\n    ReactMde.defaultProps = {\n        commands: defaults_1.getDefaultCommandMap(),\n        toolbarCommands: defaults_1.getDefaultToolbarCommands(),\n        getIcon: function (name) { return React.createElement(icons_1.SvgIcon, { icon: name }); },\n        readOnly: false,\n        l18n: react_mde_en_1.enL18n,\n        minEditorHeight: 200,\n        maxEditorHeight: 500,\n        minPreviewHeight: 200,\n        selectedTab: \"write\",\n        disablePreview: false,\n        suggestionTriggerCharacters: [\"@\"]\n    };\n    return ReactMde;\n}(React.Component));\nexports.ReactMde = ReactMde;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.headerCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nfunction setHeader(initialState, api, prefix) {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    var newSelectionRange = MarkdownUtil_1.selectWord({\n        text: initialState.text,\n        selection: initialState.selection\n    });\n    var state1 = api.setSelectionRange(newSelectionRange);\n    // Add the prefix to the selection\n    var state2 = api.replaceSelection(\"\" + prefix + state1.selectedText);\n    // Adjust the selection to not contain the prefix\n    api.setSelectionRange({\n        start: state2.selection.end - state1.selectedText.length,\n        end: state2.selection.end\n    });\n}\nexports.headerCommand = {\n    buttonProps: { \"aria-label\": \"Add header\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        setHeader(initialState, textApi, \"### \");\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.boldCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.boldCommand = {\n    buttonProps: { \"aria-label\": \"Add bold text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the bold mark up\n        var state2 = textApi.replaceSelection(\"**\" + state1.selectedText + \"**\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state2.selection.end - 2 - state1.selectedText.length,\n            end: state2.selection.end - 2\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"b\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.italicCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.italicCommand = {\n    buttonProps: { \"aria-label\": \"Add italic text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the italic mark up\n        var state2 = textApi.replaceSelection(\"*\" + state1.selectedText + \"*\");\n        // Adjust the selection to not contain the *\n        textApi.setSelectionRange({\n            start: state2.selection.end - 1 - state1.selectedText.length,\n            end: state2.selection.end - 1\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"i\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.strikeThroughCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.strikeThroughCommand = {\n    buttonProps: { \"aria-label\": \"Add strikethrough text\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the strikethrough mark up\n        var state2 = textApi.replaceSelection(\"~~\" + state1.selectedText + \"~~\");\n        // Adjust the selection to not contain the ~~\n        textApi.setSelectionRange({\n            start: state2.selection.end - 2 - state1.selectedText.length,\n            end: state2.selection.end - 2\n        });\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.linkCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.linkCommand = {\n    buttonProps: { \"aria-label\": \"Add a link\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // Replaces the current selection with the bold mark up\n        var state2 = textApi.replaceSelection(\"[\" + state1.selectedText + \"](url)\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state2.selection.end - 6 - state1.selectedText.length,\n            end: state2.selection.end - 6\n        });\n    },\n    handleKeyCommand: function (e) { return (e.ctrlKey || e.metaKey) && e.key == \"k\"; }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.quoteCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.quoteCommand = {\n    buttonProps: { \"aria-label\": \"Insert a quote\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n        var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n        var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n        var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n        // Replaces the current selection with the quote mark up\n        textApi.replaceSelection(breaksBefore + \"> \" + state1.selectedText + breaksAfter);\n        var selectionStart = state1.selection.start + breaksBeforeCount + 2;\n        var selectionEnd = selectionStart + state1.selectedText.length;\n        textApi.setSelectionRange({\n            start: selectionStart,\n            end: selectionEnd\n        });\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.codeCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.codeCommand = {\n    buttonProps: { \"aria-label\": \"Insert code\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Adjust the selection to encompass the whole word if the caret is inside one\n        var newSelectionRange = MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        });\n        var state1 = textApi.setSelectionRange(newSelectionRange);\n        // when there's no breaking line\n        if (state1.selectedText.indexOf(\"\\n\") === -1) {\n            textApi.replaceSelection(\"`\" + state1.selectedText + \"`\");\n            // Adjust the selection to not contain the **\n            var selectionStart_1 = state1.selection.start + 1;\n            var selectionEnd_1 = selectionStart_1 + state1.selectedText.length;\n            textApi.setSelectionRange({\n                start: selectionStart_1,\n                end: selectionEnd_1\n            });\n            return;\n        }\n        var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n        var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n        var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n        var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n        textApi.replaceSelection(breaksBefore + \"```\\n\" + state1.selectedText + \"\\n```\" + breaksAfter);\n        var selectionStart = state1.selection.start + breaksBeforeCount + 4;\n        var selectionEnd = selectionStart + state1.selectedText.length;\n        textApi.setSelectionRange({\n            start: selectionStart,\n            end: selectionEnd\n        });\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.checkedListCommand = exports.orderedListCommand = exports.unorderedListCommand = exports.makeList = exports.insertBeforeEachLine = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\n/**\n * Inserts insertionString before each line\n */\nfunction insertBeforeEachLine(selectedText, insertBefore) {\n    var lines = selectedText.split(/\\n/);\n    var insertionLength = 0;\n    var modifiedText = lines\n        .map(function (item, index) {\n        if (typeof insertBefore === \"string\") {\n            insertionLength += insertBefore.length;\n            return insertBefore + item;\n        }\n        else if (typeof insertBefore === \"function\") {\n            var insertionResult = insertBefore(item, index);\n            insertionLength += insertionResult.length;\n            return insertBefore(item, index) + item;\n        }\n        throw Error(\"insertion is expected to be either a string or a function\");\n    })\n        .join(\"\\n\");\n    return { modifiedText: modifiedText, insertionLength: insertionLength };\n}\nexports.insertBeforeEachLine = insertBeforeEachLine;\nexports.makeList = function (state0, api, insertBefore) {\n    // Adjust the selection to encompass the whole word if the caret is inside one\n    var newSelectionRange = MarkdownUtil_1.selectWord({\n        text: state0.text,\n        selection: state0.selection\n    });\n    var state1 = api.setSelectionRange(newSelectionRange);\n    var breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(state1.text, state1.selection.start);\n    var breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n    var breaksAfterCount = MarkdownUtil_1.getBreaksNeededForEmptyLineAfter(state1.text, state1.selection.end);\n    var breaksAfter = Array(breaksAfterCount + 1).join(\"\\n\");\n    var modifiedText = insertBeforeEachLine(state1.selectedText, insertBefore);\n    api.replaceSelection(\"\" + breaksBefore + modifiedText.modifiedText + breaksAfter);\n    // Specifically when the text has only one line, we can exclude the \"- \", for example, from the selection\n    var oneLinerOffset = state1.selectedText.indexOf(\"\\n\") === -1 ? modifiedText.insertionLength : 0;\n    var selectionStart = state1.selection.start + breaksBeforeCount + oneLinerOffset;\n    var selectionEnd = selectionStart + modifiedText.modifiedText.length - oneLinerOffset;\n    // Adjust the selection to not contain the **\n    api.setSelectionRange({\n        start: selectionStart,\n        end: selectionEnd\n    });\n};\nexports.unorderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add unordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, \"- \");\n    }\n};\nexports.orderedListCommand = {\n    buttonProps: { \"aria-label\": \"Add ordered list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return index + 1 + \". \"; });\n    }\n};\nexports.checkedListCommand = {\n    buttonProps: { \"aria-label\": \"Add checked list\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        exports.makeList(initialState, textApi, function (item, index) { return \"- [ ] \"; });\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.imageCommand = void 0;\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nexports.imageCommand = {\n    buttonProps: { \"aria-label\": \"Add image\" },\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi;\n        // Replaces the current selection with the whole word selected\n        var state1 = textApi.setSelectionRange(MarkdownUtil_1.selectWord({\n            text: initialState.text,\n            selection: initialState.selection\n        }));\n        // Replaces the current selection with the image\n        var imageTemplate = state1.selectedText || \"https://example.com/your-image.png\";\n        textApi.replaceSelection(\"![](\" + imageTemplate + \")\");\n        // Adjust the selection to not contain the **\n        textApi.setSelectionRange({\n            start: state1.selection.start + 4,\n            end: state1.selection.start + 4 + imageTemplate.length\n        });\n    }\n};\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.saveImageCommand = void 0;\nvar files_1 = require(\"../../util/files\");\nvar MarkdownUtil_1 = require(\"../../util/MarkdownUtil\");\nfunction dataTransferToArray(items) {\n    var result = [];\n    for (var index in items) {\n        var item = items[index];\n        if (item.kind === \"file\") {\n            result.push(item.getAsFile());\n        }\n    }\n    return result;\n}\nfunction fileListToArray(list) {\n    var result = [];\n    for (var i = 0; i < list.length; i++) {\n        result.push(list[0]);\n    }\n    return result;\n}\nexports.saveImageCommand = {\n    execute: function (_a) {\n        var initialState = _a.initialState, textApi = _a.textApi, context = _a.context, l18n = _a.l18n;\n        return __awaiter(this, void 0, void 0, function () {\n            var pasteContext, event, saveImage, items, _b, _c, _i, index, breaksBeforeCount, breaksBefore, placeHolder, blob, blobContents, savingImage, imageUrl, newState, uploadingText, realImageMarkdown, selectionDelta;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!context) {\n                            throw new Error(\"wrong context\");\n                        }\n                        pasteContext = context;\n                        event = pasteContext.event, saveImage = pasteContext.saveImage;\n                        items = isPasteEvent(context)\n                            ? dataTransferToArray(event.clipboardData.items)\n                            : isDragEvent(context)\n                                ? dataTransferToArray(event.dataTransfer.items)\n                                : fileListToArray(event.target.files);\n                        _b = [];\n                        for (_c in items)\n                            _b.push(_c);\n                        _i = 0;\n                        _d.label = 1;\n                    case 1:\n                        if (!(_i < _b.length)) return [3 /*break*/, 5];\n                        index = _b[_i];\n                        breaksBeforeCount = MarkdownUtil_1.getBreaksNeededForEmptyLineBefore(initialState.text, initialState.selection.start);\n                        breaksBefore = Array(breaksBeforeCount + 1).join(\"\\n\");\n                        placeHolder = breaksBefore + \"![\" + l18n.uploadingImage + \"]()\";\n                        textApi.replaceSelection(placeHolder);\n                        blob = items[index];\n                        return [4 /*yield*/, files_1.readFileAsync(blob)];\n                    case 2:\n                        blobContents = _d.sent();\n                        savingImage = saveImage(blobContents);\n                        return [4 /*yield*/, savingImage.next()];\n                    case 3:\n                        imageUrl = (_d.sent()).value;\n                        newState = textApi.getState();\n                        uploadingText = newState.text.substr(initialState.selection.start, placeHolder.length);\n                        if (uploadingText === placeHolder) {\n                            // In this case, the user did not touch the placeholder. Good user\n                            // we will replace it with the real one that came from the server\n                            textApi.setSelectionRange({\n                                start: initialState.selection.start,\n                                end: initialState.selection.start + placeHolder.length\n                            });\n                            realImageMarkdown = breaksBefore + \"![image](\" + imageUrl + \")\";\n                            selectionDelta = realImageMarkdown.length - placeHolder.length;\n                            textApi.replaceSelection(realImageMarkdown);\n                            textApi.setSelectionRange({\n                                start: newState.selection.start + selectionDelta,\n                                end: newState.selection.end + selectionDelta\n                            });\n                        }\n                        _d.label = 4;\n                    case 4:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    }\n};\nfunction isPasteEvent(context) {\n    return (context.event\n        .clipboardData !== undefined);\n}\nfunction isDragEvent(context) {\n    return (context.event.dataTransfer !==\n        undefined);\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.readFileAsync = void 0;\n/**\n * Reads a file and returns an ArrayBuffer\n * @param file\n */\nfunction readFileAsync(file) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        if (typeof reader.result === \"string\") {\n                            throw new Error(\"reader.result is expected to be an ArrayBuffer\");\n                        }\n                        resolve(reader.result);\n                    };\n                    reader.onerror = reject;\n                    reader.readAsArrayBuffer(file);\n                })];\n        });\n    });\n}\nexports.readFileAsync = readFileAsync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.enL18n = void 0;\nexports.enL18n = {\n    write: \"Write\",\n    preview: \"Preview\",\n    uploadingImage: \"Uploading image...\",\n    pasteDropSelect: \"Attach files by dragging & dropping, selecting or pasting them.\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SvgIcon = void 0;\nvar React = require(\"react\");\nvar checkedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"tasks\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z\" })));\nvar orderedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"list-ol\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" })));\nvar unorderedListIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"list-ul\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z\" })));\nvar imageIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"image\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z\" })));\nvar codeIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"code\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 640 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z\" })));\nvar quoteIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"quote-right\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z\" })));\nvar linkIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"link\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z\" })));\nvar strikeThroughIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"strikethrough\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z\" })));\nvar italicIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"italic\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 320 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z\" })));\nvar headerIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"heading\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z\" })));\nvar boldIcon = (React.createElement(\"svg\", { className: \"svg-icon\", \"aria-hidden\": \"true\", \"data-prefix\": \"fas\", \"data-icon\": \"bold\", role: \"img\", xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 384 512\", \"data-fa-i2svg\": \"\" },\n    React.createElement(\"path\", { fill: \"currentColor\", d: \"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z\" })));\nexports.SvgIcon = function (_a) {\n    var icon = _a.icon;\n    switch (icon) {\n        case \"header\":\n            return headerIcon;\n        case \"bold\":\n            return boldIcon;\n        case \"italic\":\n            return italicIcon;\n        case \"strikethrough\":\n            return strikeThroughIcon;\n        case \"link\":\n            return linkIcon;\n        case \"quote\":\n            return quoteIcon;\n        case \"code\":\n            return codeIcon;\n        case \"image\":\n            return imageIcon;\n        case \"unordered-list\":\n            return unorderedListIcon;\n        case \"ordered-list\":\n            return orderedListIcon;\n        case \"checked-list\":\n            return checkedListIcon;\n        default:\n            return null;\n    }\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandOrchestrator = exports.getStateFromTextArea = exports.TextAreaTextApi = void 0;\nvar __1 = require(\"..\");\nvar InsertTextAtPosition_1 = require(\"../util/InsertTextAtPosition\");\nvar command_utils_1 = require(\"./command-utils\");\nvar defaults_1 = require(\"./default-commands/defaults\");\nvar TextAreaTextApi = /** @class */ (function () {\n    function TextAreaTextApi(textAreaRef) {\n        this.textAreaRef = textAreaRef;\n    }\n    TextAreaTextApi.prototype.replaceSelection = function (text) {\n        var textArea = this.textAreaRef.current;\n        InsertTextAtPosition_1.insertText(textArea, text);\n        return getStateFromTextArea(textArea);\n    };\n    TextAreaTextApi.prototype.setSelectionRange = function (selection) {\n        var textArea = this.textAreaRef.current;\n        textArea.focus();\n        textArea.selectionStart = selection.start;\n        textArea.selectionEnd = selection.end;\n        return getStateFromTextArea(textArea);\n    };\n    TextAreaTextApi.prototype.getState = function () {\n        var textArea = this.textAreaRef.current;\n        return getStateFromTextArea(textArea);\n    };\n    return TextAreaTextApi;\n}());\nexports.TextAreaTextApi = TextAreaTextApi;\nfunction getStateFromTextArea(textArea) {\n    return {\n        selection: {\n            start: textArea.selectionStart,\n            end: textArea.selectionEnd\n        },\n        text: textArea.value,\n        selectedText: textArea.value.slice(textArea.selectionStart, textArea.selectionEnd)\n    };\n}\nexports.getStateFromTextArea = getStateFromTextArea;\nvar CommandOrchestrator = /** @class */ (function () {\n    function CommandOrchestrator(customCommands, textArea, l18n, pasteOptions) {\n        var _this = this;\n        this.getCommand = function (name) {\n            var command = _this.commandMap[name];\n            if (!command) {\n                throw new Error(\"Cannot execute command. Command not found: \" + name);\n            }\n            return command;\n        };\n        /**\n         * Tries to find a command the wants to handle the keyboard event.\n         * If a command is found, it is executed and the function returns\n         */\n        this.handlePossibleKeyCommand = function (e) {\n            for (var _i = 0, _a = _this.keyActivatedCommands; _i < _a.length; _i++) {\n                var commandName = _a[_i];\n                if (_this.getCommand(commandName).handleKeyCommand(e)) {\n                    _this.executeCommand(commandName).then(function (r) { });\n                    return true;\n                }\n            }\n            return false;\n        };\n        if (pasteOptions && !pasteOptions.saveImage) {\n            throw new Error(\"paste options are incomplete. saveImage are required \");\n        }\n        this.commandMap = __assign(__assign({}, __1.getDefaultCommandMap()), (customCommands || {}));\n        this.pasteOptions = pasteOptions;\n        this.keyActivatedCommands = command_utils_1.extractKeyActivatedCommands(customCommands);\n        this.textAreaRef = textArea;\n        this.textApi = new TextAreaTextApi(textArea);\n        this.l18n = l18n;\n    }\n    CommandOrchestrator.prototype.executeCommand = function (commandName, context) {\n        return __awaiter(this, void 0, void 0, function () {\n            var command, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.isExecuting) {\n                            // The simplest thing to do is to ignore commands while\n                            // there is already a command executing. The alternative would be to queue commands\n                            // but there is no guarantee that the state after one command executes will still be compatible\n                            // with the next one. In fact, it is likely not to be.\n                            return [2 /*return*/];\n                        }\n                        this.isExecuting = true;\n                        command = this.commandMap[commandName];\n                        result = command.execute({\n                            initialState: getStateFromTextArea(this.textAreaRef.current),\n                            textApi: this.textApi,\n                            l18n: this.l18n,\n                            context: context\n                        });\n                        return [4 /*yield*/, result];\n                    case 1:\n                        _a.sent();\n                        this.isExecuting = false;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * Executes the paste command\n     */\n    CommandOrchestrator.prototype.executePasteCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            saveImage: this.pasteOptions.saveImage,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Executes the drop command\n     */\n    CommandOrchestrator.prototype.executeDropCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            saveImage: this.pasteOptions.saveImage,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Executes the \"select image\" command\n     */\n    CommandOrchestrator.prototype.executeSelectImageCommand = function (event) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (this.pasteOptions) {\n                    return [2 /*return*/, this.executeCommand(this.pasteOptions.command || defaults_1.getDefaultSaveImageCommandName(), {\n                            saveImage: this.pasteOptions.saveImage,\n                            event: event\n                        })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    /**\n     * Returns a command by name\n     * @param name\n     */\n    CommandOrchestrator.prototype.getCommandByName = function (name) {\n        return this.commandMap[name];\n    };\n    return CommandOrchestrator;\n}());\nexports.CommandOrchestrator = CommandOrchestrator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.extractKeyActivatedCommands = void 0;\n/**\n * Returns a flat array of commands that can be activated by the keyboard.\n * When keydowns happen, these commands 'handleKeyCommand' will be executed, in this order,\n * and the first that returns true will be executed.\n */\nfunction extractKeyActivatedCommands(commandMap) {\n    var result = [];\n    for (var command in commandMap) {\n        if (commandMap.hasOwnProperty(command)) {\n            if (commandMap[command].handleKeyCommand) {\n                result.push(command);\n            }\n        }\n    }\n    return result;\n}\nexports.extractKeyActivatedCommands = extractKeyActivatedCommands;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getBreaksNeededForEmptyLineAfter = exports.getBreaksNeededForEmptyLineBefore = exports.selectWord = exports.getSurroundingWord = void 0;\nfunction getSurroundingWord(text, position) {\n    if (!text)\n        throw Error(\"Argument 'text' should be truthy\");\n    var isWordDelimiter = function (c) { return c === \" \" || c.charCodeAt(0) === 10; };\n    // leftIndex is initialized to 0 because if selection is 0, it won't even enter the iteration\n    var start = 0;\n    // rightIndex is initialized to text.length because if selection is equal to text.length it won't even enter the interation\n    var end = text.length;\n    // iterate to the left\n    for (var i = position; i - 1 > -1; i--) {\n        if (isWordDelimiter(text[i - 1])) {\n            start = i;\n            break;\n        }\n    }\n    // iterate to the right\n    for (var i = position; i < text.length; i++) {\n        if (isWordDelimiter(text[i])) {\n            end = i;\n            break;\n        }\n    }\n    return { start: start, end: end };\n}\nexports.getSurroundingWord = getSurroundingWord;\n/**\n * If the cursor is inside a word and (selection.start === selection.end)\n * returns a new Selection where the whole word is selected\n * @param text\n * @param selection\n */\nfunction selectWord(_a) {\n    var text = _a.text, selection = _a.selection;\n    if (text && text.length && selection.start === selection.end) {\n        // the user is pointing to a word\n        return getSurroundingWord(text, selection.start);\n    }\n    return selection;\n}\nexports.selectWord = selectWord;\n/**\n *  Gets the number of line-breaks that would have to be inserted before the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the previous text\n */\nfunction getBreaksNeededForEmptyLineBefore(text, startPosition) {\n    if (text === void 0) { text = \"\"; }\n    if (startPosition === 0)\n        return 0;\n    // rules:\n    // - If we're in the first line, no breaks are needed\n    // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n    //      may need to insert 0, 1 or 2 breaks\n    var neededBreaks = 2;\n    var isInFirstLine = true;\n    for (var i = startPosition - 1; i >= 0 && neededBreaks >= 0; i--) {\n        switch (text.charCodeAt(i)) {\n            case 32: // blank space\n                continue;\n            case 10: // line break\n                neededBreaks--;\n                isInFirstLine = false;\n                break;\n            default:\n                return neededBreaks;\n        }\n    }\n    return isInFirstLine ? 0 : neededBreaks;\n}\nexports.getBreaksNeededForEmptyLineBefore = getBreaksNeededForEmptyLineBefore;\n/**\n *  Gets the number of line-breaks that would have to be inserted after the given 'startPosition'\n *  to make sure there's an empty line between 'startPosition' and the next text\n */\nfunction getBreaksNeededForEmptyLineAfter(text, startPosition) {\n    if (text === void 0) { text = \"\"; }\n    if (startPosition === text.length - 1)\n        return 0;\n    // rules:\n    // - If we're in the first line, no breaks are needed\n    // - Otherwise there must be 2 breaks before the previous character. Depending on how many breaks exist already, we\n    //      may need to insert 0, 1 or 2 breaks\n    var neededBreaks = 2;\n    var isInLastLine = true;\n    for (var i = startPosition; i < text.length && neededBreaks >= 0; i++) {\n        switch (text.charCodeAt(i)) {\n            case 32:\n                continue;\n            case 10: {\n                neededBreaks--;\n                isInLastLine = false;\n                break;\n            }\n            default:\n                return neededBreaks;\n        }\n    }\n    return isInLastLine ? 0 : neededBreaks;\n}\nexports.getBreaksNeededForEmptyLineAfter = getBreaksNeededForEmptyLineAfter;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = all;\n\nvar _createChainableTypeChecker = require('./utils/createChainableTypeChecker');\n\nvar _createChainableTypeChecker2 = _interopRequireDefault(_createChainableTypeChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction all() {\n  for (var _len = arguments.length, validators = Array(_len), _key = 0; _key < _len; _key++) {\n    validators[_key] = arguments[_key];\n  }\n\n  function allPropTypes() {\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    var error = null;\n\n    validators.forEach(function (validator) {\n      if (error != null) {\n        return;\n      }\n\n      var result = validator.apply(undefined, args);\n      if (result != null) {\n        error = result;\n      }\n    });\n\n    return error;\n  }\n\n  return (0, _createChainableTypeChecker2.default)(allPropTypes);\n}\nmodule.exports = exports['default'];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","\"use strict\";\n/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.classNames = void 0;\nfunction isString(classValue) {\n    return typeof classValue === \"string\";\n}\nfunction isNonEmptyArray(classValue) {\n    return Array.isArray(classValue) && classValue.length > 0;\n}\nfunction isClassDictionary(classValue) {\n    return typeof classValue === \"object\";\n}\nfunction classNames() {\n    var classValues = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        classValues[_i] = arguments[_i];\n    }\n    var classes = [];\n    for (var i = 0; i < classValues.length; i++) {\n        var classValue = classValues[i];\n        if (!classValue)\n            continue;\n        if (isString(classValue)) {\n            classes.push(classValue);\n        }\n        else if (isNonEmptyArray(classValue)) {\n            var inner = classNames.apply(null, classValue);\n            if (inner) {\n                classes.push(inner);\n            }\n        }\n        else if (isClassDictionary(classValue)) {\n            for (var key in classValue) {\n                if (classValue.hasOwnProperty(key) && classValue[key]) {\n                    classes.push(key);\n                }\n            }\n        }\n    }\n    return classes.join(\" \");\n}\nexports.classNames = classNames;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createChainableTypeChecker;\n/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n// Mostly taken from ReactPropTypes.\n\nfunction createChainableTypeChecker(validate) {\n  function checkType(isRequired, props, propName, componentName, location, propFullName) {\n    var componentNameSafe = componentName || '<<anonymous>>';\n    var propFullNameSafe = propFullName || propName;\n\n    if (props[propName] == null) {\n      if (isRequired) {\n        return new Error('Required ' + location + ' `' + propFullNameSafe + '` was not specified ' + ('in `' + componentNameSafe + '`.'));\n      }\n\n      return null;\n    }\n\n    for (var _len = arguments.length, args = Array(_len > 6 ? _len - 6 : 0), _key = 6; _key < _len; _key++) {\n      args[_key - 6] = arguments[_key];\n    }\n\n    return validate.apply(undefined, [props, propName, componentNameSafe, location, propFullNameSafe].concat(args));\n  }\n\n  var chainedCheckType = checkType.bind(null, false);\n  chainedCheckType.isRequired = checkType.bind(null, true);\n\n  return chainedCheckType;\n}\nmodule.exports = exports['default'];","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultToolbarCommands = exports.getDefaultCommandMap = exports.MdeFontAwesomeIcon = exports.SvgIcon = exports.MarkdownUtil = exports.ToolbarButtonGroup = exports.Toolbar = exports.Preview = exports.SuggestionsDropdown = exports.TextArea = void 0;\nvar MarkdownUtil = require(\"./util/MarkdownUtil\");\nexports.MarkdownUtil = MarkdownUtil;\nvar components_1 = require(\"./components\");\nObject.defineProperty(exports, \"TextArea\", { enumerable: true, get: function () { return components_1.TextArea; } });\nObject.defineProperty(exports, \"SuggestionsDropdown\", { enumerable: true, get: function () { return components_1.SuggestionsDropdown; } });\nObject.defineProperty(exports, \"Preview\", { enumerable: true, get: function () { return components_1.Preview; } });\nObject.defineProperty(exports, \"Toolbar\", { enumerable: true, get: function () { return components_1.Toolbar; } });\nObject.defineProperty(exports, \"ToolbarButtonGroup\", { enumerable: true, get: function () { return components_1.ToolbarButtonGroup; } });\nvar icons_1 = require(\"./icons\");\nObject.defineProperty(exports, \"SvgIcon\", { enumerable: true, get: function () { return icons_1.SvgIcon; } });\nObject.defineProperty(exports, \"MdeFontAwesomeIcon\", { enumerable: true, get: function () { return icons_1.MdeFontAwesomeIcon; } });\nvar defaults_1 = require(\"./commands/default-commands/defaults\");\nObject.defineProperty(exports, \"getDefaultCommandMap\", { enumerable: true, get: function () { return defaults_1.getDefaultCommandMap; } });\nObject.defineProperty(exports, \"getDefaultToolbarCommands\", { enumerable: true, get: function () { return defaults_1.getDefaultToolbarCommands; } });\nexports.default = components_1.ReactMde;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDefaultSaveImageCommandName = exports.getDefaultCommandMap = exports.getDefaultToolbarCommands = void 0;\nvar headerCommand_1 = require(\"./headerCommand\");\nvar boldCommand_1 = require(\"./boldCommand\");\nvar italicCommand_1 = require(\"./italicCommand\");\nvar strikeThroughCommand_1 = require(\"./strikeThroughCommand\");\nvar linkCommand_1 = require(\"./linkCommand\");\nvar quoteCommand_1 = require(\"./quoteCommand\");\nvar codeCommand_1 = require(\"./codeCommand\");\nvar listCommands_1 = require(\"./listCommands\");\nvar imageCommand_1 = require(\"./imageCommand\");\nvar save_image_command_1 = require(\"./save-image-command\");\nfunction getDefaultToolbarCommands() {\n    return [\n        [\"header\", \"bold\", \"italic\", \"strikethrough\"],\n        [\"link\", \"quote\", \"code\", \"image\"],\n        [\"unordered-list\", \"ordered-list\", \"checked-list\"]\n    ];\n}\nexports.getDefaultToolbarCommands = getDefaultToolbarCommands;\nfunction getDefaultCommandMap() {\n    return {\n        header: headerCommand_1.headerCommand,\n        bold: boldCommand_1.boldCommand,\n        italic: italicCommand_1.italicCommand,\n        strikethrough: strikeThroughCommand_1.strikeThroughCommand,\n        link: linkCommand_1.linkCommand,\n        quote: quoteCommand_1.quoteCommand,\n        code: codeCommand_1.codeCommand,\n        image: imageCommand_1.imageCommand,\n        \"unordered-list\": listCommands_1.unorderedListCommand,\n        \"ordered-list\": listCommands_1.orderedListCommand,\n        \"checked-list\": listCommands_1.checkedListCommand,\n        \"save-image\": save_image_command_1.saveImageCommand\n    };\n}\nexports.getDefaultCommandMap = getDefaultCommandMap;\nfunction getDefaultSaveImageCommandName() {\n    return \"save-image\";\n}\nexports.getDefaultSaveImageCommandName = getDefaultSaveImageCommandName;\n"],"sourceRoot":""}